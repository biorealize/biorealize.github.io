{"version":3,"sources":["custom.js"],"names":["jQuery","document","ready","$","click","e","$this","currentTarget","is","attr","show","hide","switchPlate","filter","i","d","find","eq","focus","plate","val","change","submit","preventDefault","experiment","nfc_obj","fields","length","peripheral_type","load","each","row","chr","String","fromCharCode","j","td","syringe","JSON","stringify","$c","t","console","log"],"mappings":"AAAA,aAEAA,OAAAC,UAAAC,MAAA,SAAAC,GACAA,EAAA,0BAAAC,MAAA,SAAAC,GACA,IAAAC,EAAAH,EAAAE,EAAAE,eAEAD,EAAAE,GAAA,cACA,oBAAAF,EAAAG,KAAA,OACAN,EAAA,0BAAAO,OACAP,EAAA,kBAAAQ,OACAC,IACAT,EAAA,UAAAU,OAAA,SAAAC,EAAAC,GACA,OAAAZ,EAAAY,GAAAP,GAAA,cAEAQ,KAAA,SAAAC,GAAA,GAAAC,UAEAf,EAAA,2CAAAQ,OACAR,EAAA,kBAAAO,WAKA,IAAAE,EAAA,WAGA,GAFAT,EAAA,mBAAAQ,OAEAR,EAAA,qBAAAK,GAAA,YAAA,CACA,IAAAW,EAAAhB,EAAA,oBAAAiB,MACAjB,EAAA,IAAAgB,GAAAT,SAIAP,EAAA,oBAAAkB,OAAAT,GAAAS,SACAlB,EAAA,oBAAAmB,OAAA,SAAAjB,GACAA,EAAAkB,iBAMA,IALA,IAAAC,EAAA,GACAC,EAAA,GACAnB,EAAAH,EAAAE,EAAAE,eACAmB,EAAA,CAAA,KAAA,SAAA,WAAA,aAAA,WAAA,qBAAA,qBAEAZ,EAAA,EAAAA,EAAAY,EAAAC,OAAAb,IACAU,EAAAE,EAAAZ,IAAAR,EAAAU,KAAA,IAAAU,EAAAZ,IAAAM,MAGA,GAAA,SAAAd,EAAAU,KAAA,kCAAAI,MAAA,CACAI,EAAAI,gBAAAtB,EAAAU,KAAA,oBAAAI,MACA,IAAAS,EAAA,GACAvB,EAAAU,KAAA,2BAAAA,KAAA,SACAA,KAAA,MAAAc,KAAA,SAAAhB,EAAAiB,GACA,IAAAC,EAAAC,OAAAC,aAAA,GAAApB,GACAX,EAAA4B,GAAAf,KAAA,MAAAc,KAAA,SAAAK,EAAAC,GACAP,EAAAG,EAAAG,GAAAhC,EAAAiC,GAAApB,KAAA,oBAAAI,UAGAI,EAAAK,KAAAA,OAEAL,EAAAa,QAAA/B,EAAAU,KAAA,YAAAI,MAGAK,EAAAD,WAAAA,EACArB,EAAA,cAAAiB,IAAAkB,KAAAC,UAAAd,QAIA,IAAAe,GAAA,SAAAC,GACAC,QAAAC,IAAAF","file":"../custom.min.js","sourcesContent":["\"use strict\";\n\njQuery(document).ready(function ($) {\n  $('input[name=media_type]').click(function (e) {\n    var $this = $(e.currentTarget);\n\n    if ($this.is(':checked')) {\n      if ($this.attr('id') == 'media_type_solid') {\n        $('#peripheral_type_group').show();\n        $('#syringe_group').hide();\n        switchPlate();\n        var table = $('.plate').filter(function (i, d) {\n          return $(d).is(':visible');\n        });\n        table.find('input').eq(0).focus(); //$('.plate').is(':visible').find('input').eq(0).focus()\n      } else {\n        $('#peripheral_type_group, .form-row.plate').hide();\n        $('#syringe_group').show();\n      }\n    }\n  });\n\n  var switchPlate = function switchPlate() {\n    $('.form-row.plate').hide();\n\n    if ($('#media_type_solid').is(':checked')) {\n      var plate = $('#peripheral_type').val();\n      $('#' + plate).show();\n    }\n  };\n\n  $('#peripheral_type').change(switchPlate).change();\n  $('#submit_nfc_form').submit(function (e) {\n    e.preventDefault();\n    var experiment = {},\n        nfc_obj = {};\n    var $this = $(e.currentTarget);\n    var fields = ['id', 'client', 'location', 'start_time', 'duration', 'target_temperature', 'imaging_frequency'];\n\n    for (var i = 0; i < fields.length; i++) {\n      experiment[fields[i]] = $this.find('#' + fields[i]).val();\n    }\n\n    if ($this.find('input[name=media_type]:checked').val() == 'solid') {\n      experiment.peripheral_type = $this.find('#peripheral_type').val();\n      var load = {};\n      var $plate = $this.find('.form-row.plate:visible').find('table');\n      $plate.find('tr').each(function (i, row) {\n        var chr = String.fromCharCode(65 + i);\n        $(row).find('td').each(function (j, td) {\n          load[chr + j] = $(td).find('input[type=text]').val();\n        });\n      });\n      experiment.load = load;\n    } else {\n      experiment.syringe = $this.find('#syringe').val();\n    }\n\n    nfc_obj.experiment = experiment;\n    $('#json_sent').val(JSON.stringify(nfc_obj));\n  });\n});\n\nvar $c = function $c(t) {\n  console.log(t);\n};\n/*\n{ \"experiment\" :\n\t{\n\tid: 79E4464,\n\t\"client\" : \"Lacolombe\",\n\t\"location\" : 19102,\n\t\"start_time:\" : Monday08April2019_09/37/28AM,\n\t\"duration\" : 3600,\n\t\"peripheral_type\" : \"6_well_plate\",\n\t\"load\":\n\t     [\n{\n\t\t\"A1\" : organismA\",\n\t\t\"A2\" : organismB\",\n\t\t\"A3\" : organismC\",\n\t\t\"B1\" : organismD\",\n\t\t\"B2\" : organismE\",\n\t\t\"B3\" : organismF\",  \n\t\t}\n     ],\n\t\"target_temperature\" : 37,\n\t\"imaging_frequency\" : 3600,\n\t\"end_time\": <filled when completed>\n\t}\n}\n*/"]}